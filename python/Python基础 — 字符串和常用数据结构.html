<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python基础 — 字符串和常用数据结构' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python基础 — 字符串和常用数据结构</center></div><div class='banquan'>原文出处:本文由博客园博主丁可乐提供。<br/>
原文连接:https://www.cnblogs.com/dwlovelife/p/11559245.html</div><br>
    <div class="toc">
    <p class="toc-title">目录</p>
    <div class="toc-list">
        <ul>
        <li><a href="#字符串">1. 字符串</a></li>
        <li><a href="#列表">2. 列表</a><ul>
        <li><a href="#列表的增删改查">2.1 列表的增删改查</a></li>
        <li><a href="#列表的切片和排序">2.2 列表的切片和排序</a></li>
        <li><a href="#生成式语法">2.3 生成式语法</a></li>
        </ul></li>
        <li><a href="#元组">3. 元组</a></li>
        <li><a href="#集合">4.集合</a></li>
        <li><a href="#字典">5. 字典</a><ul>
        <li><a href="#字典的增删改查">5.1 字典的增删改查</a></li>
        <li><a href="#字典的常见操作">5.2 字典的常见操作</a></li>
        </ul></li>
        </ul>
    </div>
</div>
<blockquote>
<p>序言：这一章我们学习字符串、列表、元组、字典 等常用存储结构</p>
</blockquote>
<h2 id="字符串">1. 字符串</h2>
<p>所谓<strong>字符串</strong>，就是由零个或多个字符组成的有限序列 ，简单来说：双引号或者单引号中的数据，就是字符串</p>
<p><strong>通过下面代码，我们来了解一下字符串的使用</strong></p>
<pre><code><code># -*- coding:utf-8 -*-
def main():
    str1 = &#39;hello world!&#39;
    #通过len 计算函数字符串的长度
    print(len(str1))
    #获得字符串首字母大写的拷贝
    print(str1.capitalize())
    #获得字符串全大写的拷贝
    print(str1.upper())
    #查询or 是否被包含str1中 包含返回索引值
    print(str1.find(&quot;or&quot;))
    #查询and 是否被包含str1
    print(str1.find(&quot;and&quot;))
    #index 与find类似 但是找不到会抛异常
    print(str1.index(&quot;or&quot;))
    #print(str1.index(&quot;or&quot;))
    #检查字符串是否以指定的字符串开头
    print(str1.startswith(&quot;he&quot;))
    print(str1.startswith(&quot;1he&quot;))
    #检查字符串是否以指定的字符串结尾
    print(str1.endswith(&quot;!&quot;))
    #将字符串以指定的宽度居中 并在两边添加指定的字符
    print(str1.center(50,&quot;*&quot;))
    print(str1.rjust(50,&quot; &quot;))
    str2 = &quot;abc123456 &quot;;
    # 字符串切片：从字符串中取出指定位置的字符
    print(&quot;str2[2]: &quot;,str2[2])
    print(&quot;str2[2:]:&quot;,str2[2:])
    print(&quot;str2[::2]:&quot;,str2[::2])
    print(&quot;str2[::-1]:&quot;,str2[::-1])
    print(&quot;str2[-3::-1]:&quot;,str2[-3::-1])
    # 检查字符串是否由数字构成
    print(str2.isdigit())
    # 检查字符串是否由字母构成
    print(str2.isalpha())
    # 检查字符串是否由数字字母组成
    print(str2.isalnum())
    #去除两侧空格
    print(str2.strip())

if  __name__ == &#39;__main__&#39;:
    main()</code></pre>
<p><strong>输出结果</strong></p>
<p><img src="./images/Python基础 — 字符串和常用数据结构0.png" /></p>
<p> </p>
<p><strong>str = &quot;helloworld&quot;</strong></p>
<table>
<thead>
<tr class="header">
<th>方法</th>
<th>说明</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>len(str)</td>
<td>字符串长度</td>
<td>10</td>
</tr>
<tr class="even">
<td>str.capitalize()</td>
<td>字符串首字母大写</td>
<td>Helloworld</td>
</tr>
<tr class="odd">
<td>str.upper()</td>
<td>字符串全大写</td>
<td>HELLOWORLD</td>
</tr>
<tr class="even">
<td>str.find(&quot;or&quot;)</td>
<td>检测 &quot;or&quot; 是否包含在 str 中，如果是返回开始的索引值，否则返回-1</td>
<td>6</td>
</tr>
<tr class="odd">
<td>str.startswith(&quot;h&quot;)</td>
<td>检查字符串是否以指定的字符串开头</td>
<td>True</td>
</tr>
<tr class="even">
<td>str.endswith(&quot;!&quot;)</td>
<td>检查字符串是否以指定的字符串结尾</td>
<td>False</td>
</tr>
<tr class="odd">
<td>str.center(20,&quot;*&quot;)</td>
<td>将字符串以指定的宽度居中 并在两边添加指定的字符</td>
<td><code>*****helloworld*****</code></td>
</tr>
<tr class="even">
<td>str.isdigit()</td>
<td>检查字符串是否由数字构成</td>
<td>False</td>
</tr>
<tr class="odd">
<td>str.isalpha()</td>
<td>检查字符串是否由字母构成</td>
<td>True</td>
</tr>
<tr class="even">
<td>str.strip()</td>
<td>去除两侧空格</td>
<td>helloworld</td>
</tr>
</tbody>
</table>
<p> </p>
<h2 id="列表">2. 列表</h2>
<p>列表是Python中内置有序、可变序列，列表的所有元素放在一对中括号“[]”中，并使用逗号分隔开</p>
<p><strong>列表常用方法</strong></p>
<table>
<thead>
<tr class="header">
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>lst.append(x)</td>
<td>将元素x添加至列表lst尾部</td>
</tr>
<tr class="even">
<td>lst.extend(L)</td>
<td>将列表L中所有元素添加至列表lst尾部</td>
</tr>
<tr class="odd">
<td>lst.insert(index, x)</td>
<td>在列表lst指定位置index处添加元素x，该位置后面的所有元素后移一个位置</td>
</tr>
<tr class="even">
<td>lst.remove(x)</td>
<td>在列表lst中删除首次出现的指定元素，该元素之后的所有元素前移一个位置</td>
</tr>
<tr class="odd">
<td>lst.pop([index])</td>
<td>删除并返回列表lst中下标为index（默认为-1）的元素</td>
</tr>
<tr class="even">
<td>lst.clear()</td>
<td>删除列表lst中所有元素，但保留列表对象</td>
</tr>
<tr class="odd">
<td>lst.index(x)</td>
<td>返回列表lst中第一个值为x的元素的下标，若不存在值为x的元素则抛出异常</td>
</tr>
<tr class="even">
<td>lst.count(x)</td>
<td>返回指定元素x在列表lst中的出现次数</td>
</tr>
<tr class="odd">
<td>lst.reverse()</td>
<td>对列表lst所有元素进行逆序</td>
</tr>
<tr class="even">
<td>lst.sort(key=None, reverse=False)</td>
<td>对列表lst中的元素进行排序，key用来指定排序依据，reverse决定升序（False），还是降序（True）</td>
</tr>
<tr class="odd">
<td>lst.copy()</td>
<td>返回列表lst的浅复制</td>
</tr>
</tbody>
</table>
<p> </p>
<h3 id="列表的增删改查">2.1 列表的增删改查</h3>
<pre><code><code>def main():
    list1 = [1,3,5,7,100]
    print(list1)
    list2 = [&#39;hello&#39;] * 5
    print(list2)
    # 计算列表的长度
    print(&quot;列表的长度为:&quot;,len(list2))
    #下标索引
    print(&quot;索引为0的元素:&quot;,list1[0])
    print(&quot;索引为3的元素:&quot;,list1[3])
    print(&quot;索引为-1的元素：&quot;,list1[-1])
    #修改元素
    list1[2] = 300
    print(&quot;修改结果:&quot;,list1)
    #添加元素
    list1.append(121)
    print(&quot;append添加元素的结果:&quot;,list1)
    list1.insert(1,676);
    print(&quot;insert插入元素的结果:&quot;,list1)
    list1 += [700,800]
    print(&quot;+=添加元素:&quot;,list1)
    #删除元素
    list1.remove(700)  #移除某个元素
    print(&quot;remove移除元素:&quot;,list1)
    list1.pop();    #移除列表最后一位元素
    print(&quot;pop移除最后一位&quot;,list1)
    del list1[0]    #移除某个下标的元素
    print(&quot;del移除:&quot;,list1)
    list1.clear() #清空列表
    print(&quot;清空后的列表:&quot;,list1)


if __name__ == &quot;__main__&quot;:
    main()</code></pre>
<p><strong>输出结果</strong></p>
<p><img src="./images/Python基础 — 字符串和常用数据结构1.png" /></p>
<p> </p>
<h3 id="列表的切片和排序">2.2 列表的切片和排序</h3>
<p><strong>1、列表的切片操作</strong></p>
<pre><code><code>&quot;&quot;&quot;
列表的切片操作
version:0.1
author:coke
&quot;&quot;&quot;
def main():
    names = [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;]
    names += [&quot;E&quot;,&quot;F&quot;,&quot;G&quot;]
    # 循环遍历列表元素
    for name in names:
        print(name,end = &quot; &quot;)
    print()
    # 列表切片
    names2 = names[1:4]
    print(&quot;names2:&quot;,names2)
    # 可以完整切片操作来复制列表
    names3 = names[:]
    print(&quot;names3:&quot;,names3)
    # 可以通过反向切片操作来获得倒转后的列表的拷贝
    names4 = names[::-1]
    print(&quot;names4:&quot;,names4)

if __name__ == &quot;__main__&quot;:
    main()</code></pre>
<p><strong>输出结果</strong></p>
<p><img src="./images/Python基础 — 字符串和常用数据结构2.png" /></p>
<p> </p>
<p><strong>2、列表的排序操作</strong></p>
<pre><code><code>&quot;&quot;&quot;
列表的排序操作
version:0.1
author:coke
&quot;&quot;&quot;
def main():
    list1 = [&quot;A&quot;,&quot;Be&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;]
    list2 = sorted(list1)
    print(&quot;list2:&quot;,list2)
    # sorted函数返回列表排序后的拷贝不会修改传入的列表
    list3 = sorted(list1,reverse=True)
    print(&quot;list3:&quot;,list3)
    # 通过key关键字参数指定根据字符串长度进行排序 而不是默认的字母表顺序
    list4 = sorted(list1,key=len)
    print(&quot;list4:&quot;,list4)

if __name__ == &quot;__main__&quot;:
    main()</code></pre>
<p><strong>输出结果</strong></p>
<p><img src="./images/Python基础 — 字符串和常用数据结构3.png" /></p>
<p> </p>
<h3 id="生成式语法">2.3 生成式语法</h3>
<p>我们还可以使用列表的生成式语法来创建列表</p>
<pre><code><code>&quot;&quot;&quot;
生成试语法创建列表
version:0.1
author:coke
&quot;&quot;&quot;
import sys
def main():
    f = [x for x in range(1,10)]
    print(&quot;f:&quot;,f)
    f = [ x + y for x in &quot;ABCDE&quot; for y in &quot;1234567&quot;]
    print(&quot;f:&quot;,f)
    #通过列表的生成表达式语法创建列表容器
    #用这种语法创建列表之后 元素已经准备就绪所有需要耗费较多的内存空间
    f = [x ** 2 for x in range(1,1000)]
    print(&quot;生成试语法:&quot;,sys.getsizeof(f)) #9024
    #print(f)
    #请注意下面的代码创建的不是一个列表 而是一个生成器对象
    #每次生成器对象可以获取到数据 但它不占用额外的空间存储数据
    #每次需要数据的时候就通过内部运算得到数据
    f = (x ** 2 for x in range(1,1000))
    print(&quot;生成器对象：&quot;,sys.getsizeof(f))
    print(f)
    &quot;&quot;&quot;
        for val in f:
        print(val)
    print(sys.getsizeof(f))
    &quot;&quot;&quot;
if __name__ == &quot;__main__&quot;:
    main()</code></pre>
<p><strong>输出结果</strong></p>
<p><img src="./images/Python基础 — 字符串和常用数据结构4.png" /></p>
<p> </p>
<p>除了上面提到的生成器语法，Python中还有另外一种定义生成器的方式，就是通过<code>yield</code>关键字将一个普通函数改造成生成器函数。下面的代码演示了如何实现一个生成<a href="https://zh.wikipedia.org/wiki/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97">斐波拉切数列</a>的生成器。所谓斐波拉切数列可以通过下面<a href="https://zh.wikipedia.org/wiki/%E9%80%92%E5%BD%92">递归</a>的方法来进行定义：</p>
<pre><code><code>&quot;&quot;&quot;
定义生成器
version:0.1
author:coke
&quot;&quot;&quot;
def fib(n):
   a,b = 0,1
   for _ in range(n):
       a,b = b, a+b
       yield a
def main():
   for val in fib(20):
       print(val)

if __name__ == &#39;__main__&#39;:
   main()
</code></pre>
<p> </p>
<h2 id="元组">3. 元组</h2>
<p>Python的元组与列表类似，不同之处在于<strong>元组的元素不能修改</strong>。元组使用小括号，列表使用方括号。</p>
<pre><code><code>def main():
   # 定义元组
   t = (&#39;骆昊&#39;, 38, True, &#39;四川成都&#39;)
   print(t)
   # 获取元组中的元素
   print(t[0])
   print(t[3])
   # 遍历元组中的值
   for member in t:
       print(member)
   # 重新给元组赋值
   # t[0] = &#39;王大锤&#39;  # TypeError
   # 变量t重新引用了新的元组原来的元组将被垃圾回收
   t = (&#39;王大锤&#39;, 20, True, &#39;云南昆明&#39;)
   print(t)
   # 将元组转换成列表
   person = list(t)
   print(person)
   # 列表是可以修改它的元素的
   person[0] = &#39;李小龙&#39;
   person[1] = 25
   print(person)
   # 将列表转换成元组
   fruits_list = [&#39;apple&#39;, &#39;banana&#39;, &#39;orange&#39;]
   fruits_tuple = tuple(fruits_list)
   print(fruits_tuple)


if __name__ == &#39;__main__&#39;:
   main()</code></pre>
<p>这里有一个非常值得探讨的问题，我们已经有了列表这种数据结构，为什么还需要元组这样的类型呢？</p>
<ol>
<li>元组中的元素是无法修改的，事实上我们在项目中尤其是<a href="https://zh.wikipedia.org/zh-hans/%E5%A4%9A%E7%BA%BF%E7%A8%8B">多线程</a>环境（后面会讲到）中可能更喜欢使用的是那些不变对象（一方面因为对象状态不能修改，所以可以避免由此引起的不必要的程序错误，简单的说就是一个不变的对象要比可变的对象更加容易维护；另一方面因为没有任何一个线程能够修改不变对象的内部状态，一个不变对象自动就是线程安全的，这样就可以省掉处理同步化的开销。一个不变对象可以方便的被共享访问）。所以结论就是：如果不需要对元素进行添加、删除、修改的时候，可以考虑使用元组，当然如果一个方法要返回多个值，使用元组也是不错的选择。</li>
<li>元组在创建时间和占用的空间上面都优于列表。</li>
</ol>
<p> </p>
<h2 id="集合">4.集合</h2>
<p>Python中的集合跟数学上的集合是一致的，不允许有重复元素，而且可以进行交集、并集、差集等运算。</p>
<p><img src="./images/Python基础 — 字符串和常用数据结构5.png" /></p>
<pre><code><code>&quot;&quot;&quot;
使用集合
version:0.1
author:coke
&quot;&quot;&quot;
def  main():
    set1 = {1,2,3,3,2,4}
    print(set1)
    # len() 求集合的长度
    print(&#39;Length=&#39;,len(set1))
    set2 = set(range(1,10))
    print(set2)
    set1.add(7)
    set1.add(8)
    set2.update([11,12])
    print(&quot;set1:&quot;,set1)
    print(&quot;set2:&quot;,set2)
    # 移除元素5
    set2.discard(5)
    # remove的元素 如果不存在会引发keyError
    if 4 in set2:
        set2.remove(4)
    #遍历集合容器
    for ele in set2:
        print(ele,end=&quot; &quot;)
    print(&quot; &quot;)
    #将元组转换成集合
    set3 = set((1,2,3,4,5))
    print(set3.pop())
    print(&quot;set3:&quot;,set3)
    # 集合的交集、并集、差集、对称差运算
    print(&quot;交集：&quot;,set1 &amp; set2)
    print(&quot;并集：&quot;,set1 | set2)
    print(&quot;差集：&quot;,set1 - set2)
    print(&quot;对称差运算:&quot;,set1 ^ set2)
    #判断子集和超集
    print(&quot;子集:&quot;,set1 &lt;= set2)
    #print(set1.issuperset(set2))
    print(&quot;超集:&quot;,set1 &gt;= set2)
    #print(set1.issubset(set2))

if __name__ == &quot;__main__&quot;:
    main()</code></pre>
<p><strong>输出结果</strong></p>
<p><img src="./images/Python基础 — 字符串和常用数据结构6.png" /></p>
<p> </p>
<h2 id="字典">5. 字典</h2>
<p>字典和列表一样，也能够存储多个数据。字典的每个元素由2部分组成，键:值。例如 'name':'班长' ,'name'为键，'班长'为值</p>
<h3 id="字典的增删改查">5.1 字典的增删改查</h3>
<p><strong>1、添加元素</strong></p>
<pre><code><code>info = {&#39;name&#39;:&#39;班长&#39;, &#39;sex&#39;:&#39;f&#39;, &#39;address&#39;:&#39;地球亚洲中国北京&#39;}
# print(&#39;id为:%d&#39;%info[&#39;id&#39;])#程序会终端运行，因为访问了不存在的键
newId = input(&#39;请输入新的学号：&#39;)
info[&#39;id&#39;] = newId
print(&#39;添加之后的id为:&#39;,info[&#39;id&#39;])</code></pre>
<p> </p>
<p><strong>2、修改元素</strong></p>
<pre><code><code>info = {&#39;name&#39;:&#39;班长&#39;, &#39;id&#39;:100, &#39;sex&#39;:&#39;f&#39;, &#39;address&#39;:&#39;地球亚洲中国北京&#39;}
newId = input(&#39;请输入新的学号：&#39;)
info[&#39;id&#39;] = int(newId)
print(&#39;修改之后的id为：&#39;,info[&#39;id&#39;])</code></pre>
<p> </p>
<p><strong>3、删除元素</strong></p>
<ul>
<li><code>del</code> 删除指定元素</li>
<li><code>clear()</code> 清空整个字典</li>
</ul>
<pre><code><code>info = {&#39;name&#39;:&#39;班长&#39;, &#39;sex&#39;:&#39;f&#39;, &#39;address&#39;:&#39;地球亚洲中国北京&#39;}
print(&quot;删除前:&quot;,info)
del info[&#39;name&#39;]
print(&#39;删除后:&#39;,info)
info.clear()
print(&quot;清空后:&quot;,info)</code></pre>
<p> </p>
<p><strong>4、查找某个元素</strong></p>
<p>字典在查询某个元素时，若该字典没有所查询的元素会报错，所以查询前最好进行判断</p>
<pre><code><code>info = {&#39;id&#39;:1,&#39;name&#39;:&#39;班长&#39;, &#39;sex&#39;:&#39;f&#39;, &#39;address&#39;:&#39;地球亚洲中国北京&#39;}
print(&quot;查询:&quot;,info)
print(&quot;查询存在的元素:&quot;,info[&#39;id&#39;])
#print(&quot;查询不存在的元素:&quot;,info[&#39;age&#39;])  keyError
print(&quot;查询不存在的元素:&quot;,info[&#39;age&#39;] if &#39;age&#39; in info else &quot;元素不存在&quot;)</code></pre>
<p> </p>
<h3 id="字典的常见操作">5.2 字典的常见操作</h3>
<p><strong>1、len()：测量字典键值对的个数</strong></p>
<pre><code><code>dict = {&quot;name&quot;:&quot;Jack&quot;,&quot;age&quot;:11}
print(len(dict))</code></pre>
<p> </p>
<p><strong>2、 keys()：返回一个包含字典所有key的列表</strong></p>
<pre><code><code>dict = {&quot;name&quot;:&quot;Jack&quot;,&quot;age&quot;:11}
print(dict.keys())</code></pre>
<p> </p>
<p><strong>3、values()：返回一个包含字典所有value的列表</strong></p>
<pre><code><code>dict = {&quot;name&quot;:&quot;Jack&quot;,&quot;age&quot;:11}
print(dict.values())</code></pre>
<p> </p>
<p><strong>4、items()：返回一个包含所有（键,值）元组的列表</strong></p>
<pre><code><code>dict = {&quot;name&quot;:&quot;Jack&quot;,&quot;age&quot;:11}
print(dict.items)</code></pre>
<p> </p>
<p><strong>5、字典遍历</strong></p>
<pre><code><code>&quot;&quot;&quot;
字典测试
version:0.1
author:coke
&quot;&quot;&quot;
info = {&quot;name&quot;:&quot;coke&quot;,&quot;age&quot;:11,&quot;height&quot;:&quot;198&quot;}

print(&quot;遍历字典项--------------------第一种方式&quot;)
for item in info.items():
    print(item)
print(&quot;遍历字典项--------------------第二种方式&quot;)
for key,value in info.items():
    print(&quot;%s:%s&quot;%(key,value))
</code></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>