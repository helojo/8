<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python--logging日志模块' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python--logging日志模块</center></div><div class='banquan'>原文出处:本文由博客园博主梦想一步登天提供。<br/>
原文连接:https://www.cnblogs.com/june-L/p/11657311.html</div><br>
    <p><br />一、基本介绍<br />　　logging 模块是python自带的一个包，因此在使用的时候，不必安装，只需要import即可。<br />　　logging有 5 个不同层次的日志级别，可以将给定的 logger 配置为这些级别：<br />　　　　DEBUG：详细信息，用于诊断问题。Value=10。<br />　　　　INFO：确认代码运行正常。Value=20。<br />　　　　WARNING：意想不到的事情发生了，或预示着某个问题。但软件仍按预期运行。Value=30。<br />　　　　ERROR：出现更严重的问题，软件无法执行某些功能。Value=40。<br />　　　　CRITICAL：严重错误，程序本身可能无法继续运行。Value=50。</p>
<p><br />二、基本操作<br />　　主要调用logging.basicConfig(***kwargs*)这个函数对logging进行设置。函数常用的参数如下:</p>
<p>　　　　level：主要调整logging的级别<br />　　　　filename：输出日志的路径<br />　　　　filemode：直接写入还是追加写入<br />　　　　format：输出的格式</p>
<p>&nbsp;</p>
<p>示例一：<em id="__mceDel">通过调整format，可以输出我们想要的格式</em></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('be2f3288-596f-45d9-8a9f-27fd23f1a1aa')"><img id="code_img_closed_be2f3288-596f-45d9-8a9f-27fd23f1a1aa" class="code_img_closed" src="./images/python--logging日志模块0.png" alt="" /><img id="code_img_opened_be2f3288-596f-45d9-8a9f-27fd23f1a1aa" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('be2f3288-596f-45d9-8a9f-27fd23f1a1aa',event)" src="./images/python--logging日志模块1.png" alt="" />
<div id="cnblogs_code_open_be2f3288-596f-45d9-8a9f-27fd23f1a1aa" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> logging
</span><span style="color: #008080;">2</span> 
<span style="color: #008080;">3</span> logging.basicConfig(format=<span style="color: #800000;">'</span><span style="color: #800000;">%(asctime)s - %(message)s</span><span style="color: #800000;">'</span>, datefmt=<span style="color: #800000;">'</span><span style="color: #800000;">%d-%b-%y %H:%M:%S</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">4</span> logging.warning(<span style="color: #800000;">'</span><span style="color: #800000;">Admin logged out</span><span style="color: #800000;">'</span>)</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>结果：</p>
<div class="cnblogs_code">
<pre><code>12-Jul-18 20:53:19 - Admin logged out</pre>
</div>
<p>示例二：logging写多文件日志</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('85cb36b4-5cd8-4189-937f-050e9eef50fa')"><img id="code_img_closed_85cb36b4-5cd8-4189-937f-050e9eef50fa" class="code_img_closed" src="./images/python--logging日志模块0.png" alt="" /><img id="code_img_opened_85cb36b4-5cd8-4189-937f-050e9eef50fa" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('85cb36b4-5cd8-4189-937f-050e9eef50fa',event)" src="./images/python--logging日志模块1.png" alt="" />
<div id="cnblogs_code_open_85cb36b4-5cd8-4189-937f-050e9eef50fa" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span>
<span style="color: #008080;"> 2</span> <span style="color: #008000;">#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #008080;"> 3</span> <span style="color: #800000;">"""</span>
<span style="color: #008080;"> 4</span> <span style="color: #800000;">logging模块写多文件日志
</span><span style="color: #008080;"> 5</span> <span style="color: #800000;">"""</span>
<span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> logging
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #008000;">#</span><span style="color: #008000;">创建文件</span>
<span style="color: #008080;">10</span> file_1 = logging.FileHandler(<span style="color: #800000;">'</span><span style="color: #800000;">log_1.log</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">11</span> <span style="color: #008000;">#</span><span style="color: #008000;">创建格式</span>
<span style="color: #008080;">12</span> fat = logging.Formatter(fmt=<span style="color: #800000;">"</span><span style="color: #800000;">%(asctime)s - %(name)s - %(levelname)s - %(module)s - %(message)s</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">13</span> <span style="color: #008000;">#</span><span style="color: #008000;">文件应用格式</span>
<span style="color: #008080;">14</span> <span style="color: #000000;">file_1.setFormatter(fat)
</span><span style="color: #008080;">15</span> 
<span style="color: #008080;">16</span> file_2 = logging.FileHandler(<span style="color: #800000;">'</span><span style="color: #800000;">log_2.log</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">17</span> fmt =<span style="color: #000000;"> logging.Formatter()
</span><span style="color: #008080;">18</span> <span style="color: #000000;">file_2.setFormatter(fmt)
</span><span style="color: #008080;">19</span> 
<span style="color: #008080;">20</span> logger1 = logging.Logger(<span style="color: #800000;">'</span><span style="color: #800000;">s1</span><span style="color: #800000;">'</span>, level=<span style="color: #000000;">logging.ERROR)
</span><span style="color: #008080;">21</span> 
<span style="color: #008080;">22</span> <span style="color: #000000;">logger1.addHandler(file_1)
</span><span style="color: #008080;">23</span> <span style="color: #000000;">logger1.addHandler(file_2)
</span><span style="color: #008080;">24</span> 
<span style="color: #008080;">25</span> <span style="color: #008000;">#</span><span style="color: #008000;">写日志</span>
<span style="color: #008080;">26</span> logger1.critical(<span style="color: #800000;">"</span><span style="color: #800000;">i'm a error!</span><span style="color: #800000;">"</span>)</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>