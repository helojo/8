<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知</center></div><div class='banquan'>原文出处:本文由博客园博主程序员乔戈里提供。<br/>
原文连接:https://www.cnblogs.com/qiaogeli/p/12004962.html</div><br>
    <p>本文首发于微信公众号：程序员乔戈里</p>
<p><img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知0.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知1.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知2.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知3.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知4.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知5.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知6.png" /></p>
<p>什么是boolean类型，根据<a href="http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html">官方文档的描述</a>：</p>
<blockquote>
<p>boolean: The boolean data type has only two possible values: true and false. Use this data type for simple flags that track true/false conditions. This data type represents one bit of information, but its &quot;size&quot; isn't something that's precisely defined.</p>
</blockquote>
<p>谷歌翻译一下：</p>
<p>布尔类型：布尔数据类型只有两个可能的值：真和假。使用此数据类型为跟踪真/假条件的简单标记。这种数据类型就表示这一点信息，<strong>但是它的“大小”并不是精确定义</strong><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知7.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知8.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知9.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知10.png" /></p>
<p>stackoverflow就有关于boolean占几个字节的讨论。<br />
<a href="https://stackoverflow.com/questions/383551/what-is-the-size-of-a-boolean-variable-in-java">what-is-the-size-of-a-boolean-variable-in-java</a><br />
其中有一个高赞回答：</p>
<pre><code><code> /**
 *出自公众号：程序员乔戈里
 */
class LotsOfBooleans
{
    boolean a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, aa, ab, ac, ad, ae, af;
    boolean b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, ba, bb, bc, bd, be, bf;
    boolean c0, c1, c2, c3, c4, c5, c6, c7, c8, c9, ca, cb, cc, cd, ce, cf;
    boolean d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, da, db, dc, dd, de, df;
    boolean e0, e1, e2, e3, e4, e5, e6, e7, e8, e9, ea, eb, ec, ed, ee, ef;
}

class LotsOfInts
{
    int a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, aa, ab, ac, ad, ae, af;
    int b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, ba, bb, bc, bd, be, bf;
    int c0, c1, c2, c3, c4, c5, c6, c7, c8, c9, ca, cb, cc, cd, ce, cf;
    int d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, da, db, dc, dd, de, df;
    int e0, e1, e2, e3, e4, e5, e6, e7, e8, e9, ea, eb, ec, ed, ee, ef;
}


public class Test
{
    private static final int SIZE = 100000;

    public static void main(String[] args) throws Exception
    {
        LotsOfBooleans[] first = new LotsOfBooleans[SIZE];
        LotsOfInts[] second = new LotsOfInts[SIZE];

        System.gc();
        long startMem = getMemory();

        for (int i=0; i &lt; SIZE; i++)
        {
            first[i] = new LotsOfBooleans();
        }

        System.gc();
        long endMem = getMemory();

        System.out.println (&quot;Size for LotsOfBooleans: &quot; + (endMem-startMem));
        System.out.println (&quot;Average size: &quot; + ((endMem-startMem) / ((double)SIZE)));

        System.gc();
        startMem = getMemory();
        for (int i=0; i &lt; SIZE; i++)
        {
            second[i] = new LotsOfInts();
        }
        System.gc();
        endMem = getMemory();

        System.out.println (&quot;Size for LotsOfInts: &quot; + (endMem-startMem));
        System.out.println (&quot;Average size: &quot; + ((endMem-startMem) / ((double)SIZE)));

        // Make sure nothing gets collected
        long total = 0;
        for (int i=0; i &lt; SIZE; i++)
        {
            total += (first[i].a0 ? 1 : 0) + second[i].a0;
        }
        System.out.println(total);
    }

    private static long getMemory()
    {
        Runtime runtime = Runtime.getRuntime();
        return runtime.totalMemory() - runtime.freeMemory();
    }
}</code></pre>
<p>运行结果</p>
<pre><code><code>Size for LotsOfBooleans: 8257544
Average size: 82.57544
Size for LotsOfInts: 33599984
Average size: 335.99984</code></pre>
<p><img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知11.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知12.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知13.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知14.png" /></p>
<p>Java虚拟机规范一书提到 :</p>
<ul>
<li>在Java虚拟机中没有任何供 boolean值专用的字节码指令,Java语言表达式所操作的<br />
boolean值,在编译之后都使用<strong>Java虚拟机中的int数据类型</strong>来代替。</li>
<li>Java虚拟机直接支持 boolean类型的数组,虚拟机的 navarra指令参见第6章的newarray小节可以创建这种数组。<strong>boolean类型数组的访问与修改共用byte类型数组的baload和 bastore指令</strong>。</li>
</ul>
<p><img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知15.png" /></p>
<ul>
<li>因为在虚拟机规范中说了，boolean值在编译之后都使用<strong>Java虚拟机中的int数据类型</strong>来代替，而int是4个字节，那么boolean值就是4个字节。</li>
<li><strong>boolean类型数组的访问与修改共用byte类型数组的baload和 bastore指令</strong>，因为两者共用，只有两者字节一样才能通用呀，所以byte数组中一个byte是1个字节，那么boolean数组中boolean是1个字节。</li>
<li>总结：boolean在数组情况下为1个字节，单个boolean为4个字节。</li>
</ul>
<p><img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知16.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知17.png" /><br />
<img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知18.png" /></p>
<p>Java规范中，没有明确指出boolean的大小。在《Java虚拟机规范》给出了单个boolean占4个字节，和boolean数组1个字节的定义，具体 <strong>还要看虚拟机实现是否按照规范来</strong>，<a href="https://blog.csdn.net/makingadream/article/details/53100237">所以1个字节、4个字节都是有可能的</a></p>
<p><img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知19.png" /></p>
<p>References：<br />
[1] 官方文档的描述: <a href="http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html" class="uri">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a><br />
[2] what-is-the-size-of-a-boolean-variable-in-java: <a href="https://stackoverflow.com/questions/383551/what-is-the-size-of-a-boolean-variable-in-java" class="uri">https://stackoverflow.com/questions/383551/what-is-the-size-of-a-boolean-variable-in-java</a><br />
[3] 所以1个字节、4个字节都是有可能的: <a href="https://blog.csdn.net/makingadream/article/details/53100237" class="uri">https://blog.csdn.net/makingadream/article/details/53100237</a></p>
<blockquote>
<p>如果是头条用户，可以在我的头条号<strong>程序员乔戈里</strong>后台回复 资源获取价值59998元的编程和考研资料<br />
觉得文章不错的欢迎关注我的WX公众号：<strong>程序员乔戈里</strong><br />
我是BAT大厂后台开发工程师，，专注分享技术干货/编程资源/求职面试/成长感悟等,关注送5000G编程资源和自己整理的一份帮助不少人拿下java的offer的面经附答案，免费下载CSDN资源。</p>
</blockquote>
<p><img src="./images/腾讯面试官问我Java中boolean类型占用多少个字节？我说一个，面试官让我回家等通知20.png" /></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>