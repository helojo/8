<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python--生成器和迭代器' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python--生成器和迭代器</center></div><div class='banquan'>原文出处:本文由博客园博主梦想一步登天提供。<br/>
原文连接:https://www.cnblogs.com/june-L/p/11657812.html</div><br>
    <p><span style="font-size: 18px;">一、生成器简介</span><br /><span style="font-size: 18px;">在python中，生成器是根据某种算法边循环边计算的一种机制。主要就是用于操作大量数据的时候，一般我们会将操作的数据读入内存中处理，可以计算机的内存是比较宝贵的资源，我认为的当要处理的数据超过内存四分之一的大小时就应该使用生成器。</span></p>
<p><span style="font-size: 18px;">二、生成器有什么特点？</span><br /><span style="font-size: 18px;">1.和传统的容器相比，生成器更节省内存。</span><br /><span style="font-size: 18px;">2.延迟计算，在我们需要结果时就调用一下生成器的next()方法即可。</span><br /><span style="font-size: 18px;">3.可迭代，你可以像遍历list一样，遍历生成器</span></p>
<p><span style="font-size: 18px;">三、如何创建生成器？</span><br /><span style="font-size: 18px;">在python中有两种方式创建生成器：生成器表达式 和 生成器函数。</span><br /><span style="font-size: 18px;">生成器表达式</span></p>
<div class="cnblogs_code">
<pre><code>gen1 = (x <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span> range(10))</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">生成器函数</span><br /><span style="font-size: 18px;">生成式函数和普通函数只有一个区别，普通函数使用return返回结果，而生成器函数使用yield返回结果。</span><br /><span style="font-size: 18px;">yield的特点在于，它并不是结束函数，而是在返回结果后将函数处于一种挂起状态，等待再次next函数的调用，然后从上次挂起的地方(yield)继续执行。</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">def</span><span style="color: #000000;"> gen():
　　a </span>= 1
　　<span style="color: #0000ff;">yield</span><span style="color: #000000;"> a
　　b </span>= 2
　　<span style="color: #0000ff;">yield</span><span style="color: #000000;"> b
　　c </span>= 3
　　<span style="color: #0000ff;">yield</span><span style="color: #000000;"> c

g </span>=<span style="color: #000000;"> gen()

</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(g))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(g))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(g))
</span><span style="color: #0000ff;">print</span>(next(g))</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">四、迭代器简介</span></p>
<p><span style="font-size: 18px;">迭代器是一个包含有限数量值的对象。</span></p>
<p><span style="font-size: 18px;">迭代器是一个可以被迭代的对象，可以遍历迭代器中的所有值。</span></p>
<p><span style="font-size: 18px;">从技术上讲，在Python中，迭代器是实现迭代器协议的对象，该协议由方法__iter__()和__next__()组成。</span></p>
<p><span style="font-size: 18px;">可迭代的数据类型</span><br /><span style="font-size: 18px;">列表、元组、字典和集合都是可迭代的对象，可以从其中获得迭代器。</span></p>
<p><span style="font-size: 18px;">所有这些对象都可用iter()方法获取迭代器:</span></p>
<p><span style="font-size: 18px;">示例</span></p>
<p><span style="font-size: 18px;">从元组中获取一个迭代器，遍历并打印每个值:</span></p>
<div class="cnblogs_code">
<pre><code>mytuple = (<span style="color: #800000;">"</span><span style="color: #800000;">飞机</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">汽车</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">高铁</span><span style="color: #800000;">"</span><span style="color: #000000;">)
myit </span>=<span style="color: #000000;"> iter(mytuple)

</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(myit))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(myit))
</span><span style="color: #0000ff;">print</span>(next(myit))</pre>
</div>
<p><span style="font-size: 18px;">五、创建迭代器</span><br /><span style="font-size: 18px;">一个对象要创建迭代器，变成可迭代的，必须实现方法：__iter__()和__next__()。</span></p>
<p><span style="font-size: 18px;">__iter__()方法必须始终返回迭代器对象本身。</span></p>
<p><span style="font-size: 18px;">__next__()方法必须返回序列中的下一项。</span></p>
<p><span style="font-size: 18px;">示例</span></p>
<p><span style="font-size: 18px;">创建一个返回数字的迭代器，从1开始，每个序列项递增1(返回1、2、3、4、5等):</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> MyNumbers:
</span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
　　self.a </span>= 1
　　<span style="color: #0000ff;">return</span><span style="color: #000000;"> self

</span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__next__</span><span style="color: #000000;">(self):
　　x </span>=<span style="color: #000000;"> self.a
　　self.a </span>+= 1
　　<span style="color: #0000ff;">return</span><span style="color: #000000;"> x

myclass </span>=<span style="color: #000000;"> MyNumbers()
myiter </span>=<span style="color: #000000;"> iter(myclass)

</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(myiter))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(myiter))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(myiter))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(next(myiter))
</span><span style="color: #0000ff;">print</span>(next(myiter))</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>