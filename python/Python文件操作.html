<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python文件操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python文件操作</center></div><div class='banquan'>原文出处:本文由博客园博主InfiniteCodes提供。<br/>
原文连接:https://www.cnblogs.com/infinitecodes/p/11442024.html</div><br>
    <h3>open() 方法 </h3><p>Python open() 方法用于打开一个文件，并返回文件对象，在对文件进行处理过程都需要使用到这个函数，如果该文件无法被打开，会抛出 OSError。<p><strong>注意：</strong>使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。<p>open() 函数常用形式是接收两个参数：文件名(file)和模式(mode)。<p>完整的语法格式为：<pre><code>open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)</pre><p>参数说明:<ul><li>file: 必需，文件路径（相对或者绝对路径）。 
<li>mode: 可选，文件打开模式 
<li>buffering: 设置缓冲 
<li>encoding: 一般使用utf8 
<li>errors: 报错级别 
<li>newline: 区分换行符 
<li>closefd: 传入的file参数类型 
<li>opener:</li></ul><h3>open函数</h3><p>你必须先用Python内置的open()函数打开一个文件，创建一个file对象，相关的方法才可以调用它进行读写。 <p>语法： <pre><code>file object = open(file_name [, access_mode][, buffering])</pre><p>各个参数的细节如下： <ul><li>file_name：file_name变量是一个包含了你要访问的文件名称的字符串值。</li><li>access_mode：access_mode决定了打开文件的模式：只读，写入，追加等。所有可取值见如下的完全列表。这个参数是非强制的，默认文件访问模式为只读(r)。</li><li>buffering:如果buffering的值被设为0，就不会有寄存。如果buffering的值取1，访问文件时会寄存行。如果将buffering的值设为大于1的整数，表明了这就是的寄存区的缓冲大小。如果取负值，寄存区的缓冲大小则为系统默认。</li></ul><p>mode 参数:</p><table border="10" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top">模式</td>
<td valign="top">描述</td>
</tr>
<tr>
<td valign="top">t</td>
<td valign="top">文本模式 (默认)。</td>
</tr>
<tr>
<td valign="top">x</td>
<td valign="top">写模式，新建一个文件，如果该文件已存在则会报错。</td>
</tr>
<tr>
<td valign="top">b</td>
<td valign="top">二进制模式。</td>
</tr>
<tr>
<td valign="top">+</td>
<td valign="top">打开一个文件进行更新(可读可写)。</td>
</tr>
<tr>
<td valign="top">r</td>
<td valign="top">以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td valign="top">rb</td>
<td valign="top">以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。</td>
</tr>
<tr>
<td valign="top">r+</td>
<td valign="top">打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td valign="top">rb+</td>
<td valign="top">以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</td>
</tr>
<tr>
<td valign="top">w</td>
<td valign="top">打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td valign="top">wb</td>
<td valign="top">以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td>
</tr>
<tr>
<td valign="top">w+</td>
<td valign="top">打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td valign="top">wb+</td>
<td valign="top">以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td>
</tr>
<tr>
<td valign="top">a</td>
<td valign="top">打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td valign="top">a+</td>
<td valign="top">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td valign="top">ab</td>
<td valign="top">打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>
<tr>
<td valign="top">ab+</td>
<td valign="top">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td>
</tr>
</tbody>
</table><h3>file对象</h3><p>file 对象使用 open 函数来创建，下表列出了 file 对象常用的函数：</p><table border="10" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top">方法</td>
<td valign="top">描述</td>
</tr>
<tr>
<td valign="top">file.close()</td>
<td valign="top">关闭文件。关闭后文件不能再进行读写操作。</td>
</tr>
<tr>
<td valign="top">file.flush()</td>
<td valign="top">刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件, 而不是被动的等待输出缓冲区写入。</td>
</tr>
<tr>
<td valign="top">file.fileno()</td>
<td valign="top">返回一个整型的文件描述符(file descriptor FD 整型), 可以用在如os模块的read方法等一些底层操作上。</td>
</tr>
<tr>
<td valign="top">file.isatty()</td>
<td valign="top">如果文件连接到一个终端设备返回 True，否则返回 False。</td>
</tr>
<tr>
<td valign="top">file.read([size])</td>
<td valign="top">从文件读取指定的字节数，如果未给定或为负则读取所有。</td>
</tr>
<tr>
<td valign="top">file.readline([size])</td>
<td valign="top">读取整行，包括 "\n" 字符。</td>
</tr>
<tr>
<td valign="top">file.readlines([sizeint])</td>
<td valign="top">读取所有行并返回列表，若给定sizeint&gt;0，返回总和大约为sizeint字节的行, 实际读取值可能比 sizeint 较大, 因为需要填充缓冲区。</td>
</tr>
<tr>
<td valign="top">file.seek(offset[, whence])</td>
<td valign="top">设置文件当前位置</td>
</tr>
<tr>
<td valign="top">file.tell()</td>
<td valign="top">返回文件当前位置。</td>
</tr>
<tr>
<td valign="top">file.truncate([size])</td>
<td valign="top">从文件的首行首字符开始截断，截断文件为 size 个字符，无 size 表示从当前位置截断；截断之后后面的所有字符被删除，其中 Windows 系统下的换行代表2个字符大小。</td>
</tr>
<tr>
<td valign="top">file.write(str)</td>
<td valign="top">将字符串写入文件，返回的是写入的字符长度。</td>
</tr>
<tr>
<td valign="top">file.writelines(sequence)</td>
<td valign="top">向文件写入一个序列字符串列表，如果需要换行则要自己加入每行的换行符。</td>
</tr>

</tbody>
</table>
<h3>file对象的属性</h3><p>一个文件被打开后，你有一个file对象，你可以得到有关该文件的各种信息。 <p>以下是和file对象相关的所有属性的列表： <table border="10" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top">属性</td>
<td valign="top">描述</td>
</tr>
<tr>
<td valign="top">file.closed</td>
<td valign="top">返回true如果文件已被关闭，否则返回false。</td>
</tr>
<tr>
<td valign="top">file.mode</td>
<td valign="top">返回被打开文件的访问模式。</td>
</tr>
<tr>
<td valign="top">file.name</td>
<td valign="top">返回文件的名称。</td>
</tr>
<tr>
<td valign="top">file.softspace</td>
<td valign="top">如果用print输出后，必须跟一个空格符，则返回false。否则返回true。</td>
</tr>
</tbody>
</table>
<h3>close()方法</h3><p>File 对象的 close（）方法刷新缓冲区里任何还没写入的信息，并关闭该文件，这之后便不能再进行写入。 <p>当一个文件对象的引用被重新指定给另一个文件时，Python 会关闭之前的文件。用 close（）方法关闭文件是一个很好的习惯。 <p>语法： <pre><code>fileobject.close()</pre><p>file对象提供了一系列方法，能让我们的文件访问更轻松。来看看如何使用read()和write()方法来读取和写入文件。 </p><h3>write()方法</h3><p>write()方法可将任何字符串写入一个打开的文件。需要重点注意的是，Python字符串可以是二进制数据，而不是仅仅是文字。 <p>write()方法不会在字符串的结尾添加换行符('\n')： <p>语法：<pre><code>fileObject.write(string)</pre><h3>read()方法</h3><p>read（）方法从一个打开的文件中读取一个字符串。需要重点注意的是，Python字符串可以是二进制数据，而不是仅仅是文字。 <p>语法： <pre><code>fileObject.read([count])</pre><p>在这里，被传递的参数是要从已打开文件中读取的字节计数。该方法从文件的开头开始读入，如果没有传入count，它会尝试尽可能多地读取更多的内容，很可能是直到文件的末尾。 </p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>