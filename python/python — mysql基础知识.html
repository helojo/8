<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python — mysql基础知识' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python — mysql基础知识</center></div><div class='banquan'>原文出处:本文由博客园博主一直努力的小羊提供。<br/>
原文连接:https://www.cnblogs.com/yangjie0906/p/11312268.html</div><br>
    <div class="toc">
    <p class="toc-title">目录</p>
    <div class="toc-list">
        <ul>
        <li><a href="#数据库的介绍">1 . 数据库的介绍</a></li>
        <li><a href="#mysql">2. mysql</a></li>
        </ul>
    </div>
</div>
<h3 id="数据库的介绍">1 . 数据库的介绍</h3>
<p>1.为什么要用数据库？</p>
<ul>
<li>很多功能如果只是通过操作文件来改变数据是非常繁琐的，程序员需要做很多事情</li>
<li>对于多台机器或者多个进程操作用一份数据，程序员自己解决并发和安全问题比较麻烦</li>
<li>自己处理一些数据备份，容错的措施</li>
</ul>
<p>2.数据库的优势：</p>
<p>数据库是C/S架构的、操作数据文件的一个管理软件。</p>
<ul>
<li>1.帮助我们解决并发问题</li>
<li>2.能够帮助我们用更简单更快速的方式完成数据的增删改查</li>
<li>3.能够给我们提供一些容错、高可用的机制</li>
<li>4.权限的认证</li>
</ul>
<p>3.数据库管理系统 DBMS</p>
<ul>
<li><p>数据库管理系统是专门用来管理数据文件、帮助用户更简洁的操作数据的系统软件。</p></li>
<li><p>数据 — data ：描述事物的符号记录称为数据</p></li>
<li><p>文件</p></li>
<li><p>数据库 — database (简写：db) ，即文件夹</p>
<p>数据库即存放数据的仓库，只不过这个仓库是在计算机存储设备上，而且数据是按一定的格式存放的</p></li>
<li><p>数据库管理员 — DBA</p></li>
</ul>
<p>4.数据库管理系统的两种类型：</p>
<ul>
<li><p>1.关系型数据库：</p>
<ul>
<li><p>1.sql server</p></li>
<li><p>2.oracle 收费、比较严谨、安全性比较高</p>
<p>主要用于：a.国企 事业单位 b.银行 金融行业</p></li>
<li><p>3.mysql 是开源的，因为开源这个数据库是免费的，他现在是甲骨文公司的产品。</p>
<p>主要用于：a.小公司 b.大型互联网公司</p></li>
<li><p>4.sqllite(小的数据库)</p></li>
</ul></li>
<li><p>2.非关系型数据库</p>
<ul>
<li>redis</li>
<li>mongodb</li>
</ul></li>
</ul>
<p>5.数据库的下载、安装</p>
<p>安装mysql遇到的问题：</p>
<ul>
<li><p>1.操作系统的问题：</p>
<p>缺失dll文件</p>
<p><img src="./images/python — mysql基础知识0.png" /></p>
<p><img src="./images/python — mysql基础知识1.png" /></p></li>
<li><p>2.安装路径：</p>
<ul>
<li>不能有空格</li>
<li>不能有中文</li>
<li>不能带着有转义的特殊字符开头的文件夹名</li>
</ul></li>
<li><p>3.安装之后发现配置有问题，再修改配置往往不能生效</p></li>
<li><p>4.卸载之后重装：</p>
<p>mysqld remove ==&gt; 把所有的配置、环境变量修改到正确的样子 ==&gt; 重启计算机 - 清空注册表 ==&gt; 再重新安装</p></li>
</ul>
<h3 id="mysql">2. mysql</h3>
<h4 id="mysql的cs架构">2.1 mysql的CS架构</h4>
<ul>
<li>mysqld install 安装数据库服务</li>
<li>net start mysql 启动数据库的server端</li>
<li>net stop mysql 停止数据库的server端</li>
<li>客户端可以是python代码也可以是一个程序
<ul>
<li>mysql.exe是一个客户端</li>
<li>mysql -u用户名 -p密码 ,默认为：mysql -uroot -p(密码为空)回车+空格</li>
</ul></li>
</ul>
<h4 id="mysql中的用户和权限">2.2 mysql中的用户和权限</h4>
<p>1.在安装数据库之后，有一个最高权限的用户root</p>
<ul>
<li>mysql -uroot -p</li>
</ul>
<p>2.我们的mysql客户端不仅可以连接本地的数据库，也可以连接网络上的某一个数据库的server端</p>
<ul>
<li>mysql 192.168.12.87 eva/123</li>
<li>mysql -h192.168.12.87 -uroot -p123</li>
</ul>
<p>3.常用语句：</p>
<ul>
<li><p>查看当前用户是谁 ：mysql&gt;select user();</p></li>
<li><p>设置密码 ：mysql&gt;set password = password('密码')</p></li>
<li><p>创建用户 ：create user '用户名'@'网段.%' identified by '密码';</p>
<ul>
<li><p>create user '用户名'@'%' 表示网络可以通讯的所有ip地址都可以使用这个用户名</p></li>
<li><p>create user '用户名'@'192.168.12.%' 表示192.168.12.0网段的用户可以使用这个用户名</p></li>
<li><p>create user '用户名'@'192.168.12.87' 表示只有一个ip地址可以使用这个用户名</p>
<pre><code><code>create user &#39;s21&#39;@&#39;192.168.12.%&#39; identified by &#39;123&#39;;
用户连接：mysql -us21 -p123 -h192.168.12.87</code></pre></li>
</ul></li>
<li><p>数据库授权：<br />
grant all on day37.* to 's21'@'192.168.12.%';</p></li>
<li><p>授权并创建用户<br />
grant all on day37.* to 'alex'@'%' identified by '123';</p></li>
<li><p>查看文件夹 ：show databases;</p></li>
<li><p>创建文件夹 ：create database day37;</p></li>
</ul>
<p>4.SQL语言主要用于存取数据、查询数据、更新数据和管理关系数据库系统,。</p>
<ul>
<li><p>SQL语言分为3种类型：</p>
<ul>
<li>1.DDL ：数据库定义语言，创建库、创建表</li>
<li>2.DML ：数据库操纵语言，存数据，删除数据,修改数据,查看</li>
<li>3.DCL ：数据库控制语言，grant/revoke</li>
</ul></li>
<li><p>库操作:</p>
<ul>
<li>创建库 ：create database 数据库名;</li>
<li>查看当前有多少个数据库 ：show databases;</li>
<li>查看当前使用的数据库 ：select database();</li>
<li>切换到这个数据库(文件夹)下 ：use 数据库的名字;</li>
</ul></li>
<li><p>表操作</p>
<ul>
<li><p>查看当前文件夹中有多少张表 ：show tables;</p></li>
<li><p>创建表 ：create table 表的名字(字段名 数据类型(长度)，字段名 数据类型(长度)，……);</p>
<pre><code><code>create table student(id int,name char(4));  # char()默认为放1个字符</code></pre></li>
<li><p>删除表 ：drop table student;</p></li>
<li><p>查看表结构 ：desc 表名;</p></li>
</ul></li>
<li><p>操作表中的数据</p>
<ul>
<li><p>数据的增加 ：insert into 表名字 values (数据格式);</p>
<pre><code><code>insert into student values (1,&#39;alex&#39;);

insert into student values (2,&#39;wusir&#39;);</code></pre></li>
<li><p>数据的查看 ：select * from 表名字;</p>
<pre><code><code>select * from student;</code></pre></li>
<li><p>修改数据 ：update 表名字 set 字段名=值</p>
<pre><code><code>update student set name = &#39;yuan&#39;; # 会全部被修改

update student set name = &#39;wusir&#39; where id=2;</code></pre></li>
<li><p>删除数据 ：delete from 表名字;</p>
<pre><code><code>delete from student where id=1;</code></pre></li>
</ul></li>
</ul>
<p>show与select哪个后面加'()' ？</p>
<ul>
<li>mysql中的函数：database(),user(),now(),concat(),password() —— 都是可以select的</li>
<li>show 后面跟的都不用加'()'</li>
</ul>
<h4 id="存储引擎">2.3 存储引擎</h4>
<p>1.存储引擎</p>
<ul>
<li><p>什么是存储引擎？</p>
<p>MySQL中的数据用各种不同的技术存储在文件（或者内存）中，这些不同的技术以及配套的相关功能在MySQL中被称作存储引擎(也称作表类型)。</p></li>
<li><p>常用存储引擎及其特点：</p>
<ul>
<li><p>MyISAM ：适合做读、插入数据比较频繁的、对修改和删除涉及少的，不支持事务、行级锁和外键，有表级锁，索引和数据分开存储的，mysql5.5版本以下默认的存储引擎</p>
<p><img src="./images/python — mysql基础知识2.png" /></p></li>
<li><p>InnoDB ：适合并发比较高的、对事务一致性要求高的，相对更适应频繁的修改和删除操作，有行级锁，外键且支持事务，索引和数据是存在一起的，mysql5.6版本以上默认的存储引擎</p>
<p><img src="./images/python — mysql基础知识3.png" /></p>
<p><img src="./images/python — mysql基础知识4.png" /></p></li>
<li><p>Memory ：数据存在内存中，表结构存在硬盘上，查询速度快，重启数据丢失</p></li>
</ul></li>
</ul>
<p>2.表的存储方式：</p>
<ul>
<li><p>存储方式1：MyISAM 5.5版本以下 默认的存储方式</p>
<ul>
<li>存储的文件个数(3个)：表结构、表中的数据、索引</li>
<li>支持表级锁</li>
<li>不支持行级锁 不支持事务 不支持外键</li>
</ul></li>
<li><p>存储方式2：InnoDB 5.6版本以上 默认的存储方式</p>
<ul>
<li><p>存储的文件个数(2个)：表结构、表中的数据</p></li>
<li><p>支持行级锁、支持表级锁</p>
<p>行级锁 — 能够更好的处理并发的修改问题。</p>
<p>注：在修改的数据行数比较多时，优先选择使用表级锁。</p></li>
<li><p>支持事务</p>
<p>把几句代码变成一个不可再分的原子型数据</p>
<p>应用场景：用于与支付、金融相关</p></li>
<li><p>支持外键</p></li>
</ul></li>
<li><p>存储方式3： MEMORY 存储到内存</p>
<ul>
<li>存储的文件个数(1个)：表结构</li>
<li>优势 ：增删改查都很快</li>
<li>劣势 ：mysql服务端重启后数据消失、容量有限</li>
</ul></li>
</ul>
<p>索引(index) — 数据库的目录</p>
<p>查看配置项:show variables like '%engine%';</p>
<p>创建表：</p>
<ul>
<li>create table t1 (id int,name char(4));</li>
<li>create table t2 (id int,name char(4)) engine=myisam; # 使用MyISAM存储引擎</li>
<li>create table t3 (id int,name char(4)) engine=memory; # 使用MEMORY存储引擎</li>
</ul>
<h4 id="数据类型">2.4 数据类型</h4>
<p>数据类型的种类：</p>
<ul>
<li>1.数值类型</li>
<li>2.日期时间类型</li>
<li>3.字符串类型</li>
<li>4.ENUM和SET类型</li>
</ul>
<h5 id="数值类型">2.4.1 数值类型</h5>
<p>数值类型分为：整数 、小数</p>
<p>1.整数 int</p>
<p>create table t4 (id1 int(4),id2 int(11));</p>
<ul>
<li>int默认是有符号的</li>
<li>它能表示的数字的范围不被宽度约束</li>
<li>它只能约束数字的显示宽度 ，如：显示范围—(-2 147 483 648，2 147 483 647)</li>
</ul>
<p>create table t5 (id1 int unsigned,id2 int); # unsigned表示id1是没有符号的int</p>
<p>2.小数</p>
<p>&lt;1.&gt;float 是以二进制类型存储的</p>
<p>float(a,b) —— a:(不包含小数点)共保留几位 b:小数点后保留几位小数</p>
<p>create table t6 (f1 float(5,2),d1 double(5,2));<br />
create table t7 (f1 float,d1 double);<br />
create table t8 (d1 decimal,d2 decimal(25,20));</p>
<p>&lt;2.&gt;decimal 是以字符串的类型存储的</p>
<p>decimal 默认存储整数，所以一般会在后面加条件</p>
<h5 id="日期时间类型">2.4.2 日期时间类型</h5>
<p>类型：</p>
<ul>
<li>year 年</li>
<li>date 年月日</li>
<li>time 时分秒</li>
<li>datetime、timestamp 年月日时分秒</li>
</ul>
<p>timestamp 默认不能为空，会自动填充时间</p>
<pre><code><code>create table t9(
y year,d date,
dt datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
# 加上这句代码可以让datetime具有‘默认不能为空，会自动填充时间’的功能    
ts timestamp);
</code></pre>
<h5 id="字符串类型">2.4.3 字符串类型</h5>
<p>常用字符串类型：</p>
<ul>
<li>char(15) 定长的单位 (范围：0-255字节)<br />
alex：alex + 11个空（补够15位)<br />
alex 读取时会自动将空格去掉</li>
<li>varchar(15) 变长的单位 (范围：0-65535字节)<br />
alex：alex4 — 字符串后面跟一个字符串的长度，一共占用了5个字符</li>
</ul>
<p>哪一个存储方式好？</p>
<ul>
<li>varchar ：节省空间、存取效率相对低，用于长度变化大的情况</li>
<li>char ：浪费空间，存取效率相对高，用于长度变化小的情况</li>
</ul>
<p>例：手机号码、身份证号 — 用 char<br />
用户名、密码（限制在几位-几位之间，区间小) — 用 char<br />
评论 、微博 、说说 、微信状态 — 用 varchar</p>
<p>create table t11 (name1 char(5),name2 varchar(5));</p>
<h5 id="enum-和-set类型">2.4.4 enum 和 set类型</h5>
<p>enum：枚举类型，单选</p>
<p>set：多选、去重</p>
<pre><code><code>create table t12(
name char(12),
gender enum(&#39;male&#39;,&#39;female&#39;),
hobby set(&#39;抽烟&#39;,&#39;喝酒&#39;,&#39;烫头&#39;,&#39;洗脚&#39;)
);

insert into t12 values(&#39;alex&#39;,&#39;不详&#39;,&#39;抽烟,喝酒,洗脚,洗脚,按摩&#39;);</code></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>