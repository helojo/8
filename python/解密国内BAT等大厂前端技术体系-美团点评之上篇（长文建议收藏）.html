<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）</center></div><div class='banquan'>原文出处:本文由博客园博主奶爸码农提供。<br/>
原文连接:https://www.cnblogs.com/wdsunny/p/12098447.html</div><br>
    <h1 class="article-title" data-v-78f25c42="">引言</h1>
<div class="article-content" data-v-78f25c42="" data-id="5de900936fb9a0163f77ba3b">
<p>进入2019年，大前端技术生态似乎进入到了一个相对稳定的环境，React在2013年发布至今已经6年时间了，Vue 1.0在2015年发布，至今也有4年时间了。</p>
<p>整个业界在前端框架不断迭代中，也寻找到了许多突破方向，例如跨平台中的RN、Flutter，服务端GraphQL、Serverless，前端和客户端的融合越来越紧密，前端在Node和Electron的加持下，也扩展了自己的版图到服务端和桌面。</p>
<p>同时，随着前端开发越来越复杂，整个前端研发也经历了人工化-&gt;工具化-&gt;工程化-&gt;智能化的演变。目前各个大厂在工程化实践不断迭代，出现了许多Low/No Code等前端智能化解决方案，工程化实践也深入到研发的各个环节，不断提升前端研发的标准化能力。而且，随着机器学习的加入，各类UI2Code的解决方案也开始出现，前端研发进入了一个完全不同的时代。</p>
<p>随着端上能力的不断增强，现在在端上做的事情越来越多。首先，数据可视化方向，各类图表、地图、3D等等数据可视化的尝试变得越来越多。其次，伴随着人工智能的加持，在端上的人工智能应用也变的普及，减少了服务端的交互，提高了系统的实时响应能力。最后，随着Webassembly等技术的应用，有可能将前端运行能力再提升一个档次，可以进行更为复杂的端上计算。</p>
<p>为了了解当前前端的发展趋势，让我们从国内各大互联网大厂开始，了解他们的最新动态和未来规划。前面系列已经介绍过了阿里、腾讯、百度、携程的大前端技术体系。</p>
<p>这一篇讲介绍美团点评。</p>
<h1 class="heading" data-id="heading-1">业务介绍</h1>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）0.png" alt="" width="1153" height="584" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）0.png" data-width="1252" data-height="634" />
<p>&nbsp;</p>
<p>美团点评是一个连接消费者和商家的本地生活平台，在C端涵盖食、住、行、游、购、娱等众多本地生活服务，在B端也不断深入，具备营销、配送、IT、金融、供应链和运营等能力。</p>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）1.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）1.png" data-width="1280" data-height="598" />
<p>&nbsp;</p>
<p>美团点评基于餐厅的本地点评和团购业务开始，每年不断扩展新的业务，丰富业务品类增强用户粘度，逐步成长为一个本地生活服务的超级平台。</p>
<p>从业务方面主要包含以下几个部分：</p>
<ul>
<li>到家业务：餐饮外卖，配送</li>
<li>到店业务：到店餐饮，酒店，旅游，到店综合业务</li>
<li>新业务：生鲜超市，交通票务（飞机、火车、汽车、轮船等），共享单车，网约车</li>
<li>商家业务：营销，及时配送，云端ERP系统，聚合支付收单，供应链，金融贷款</li>
</ul>
<h1 class="heading" data-id="heading-2">大前端技术全景</h1>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）2.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）2.png" data-width="1280" data-height="613" />
<p>&nbsp;</p>
<p>美团点评在多业务、多容器、多端上都有非常丰富的业务场景，于是在大前端领域沉淀了众多的解决方案和框架。上图是根据现有公开资料整理而成的技术全景图，大体上能够体现在大前端方面的积累，当然这可能仅仅是公司现有能力的冰山一角。</p>
<p>在技术推广和宣传方面，美团点评也是不遗余力，目前有几个很好的途径可以了解：</p>
<ul>
<li>技术博客：<a href="https://tech.meituan.com/" rel="nofollow noopener noreferrer" target="_blank">tech.meituan.com/</a></li>
<li>技术沙龙：<a href="https://tech.meituan.com/2019/01/03/jishushalong.html" rel="nofollow noopener noreferrer" target="_blank">tech.meituan.com/2019/01/03/&hellip;</a></li>
<li>技术年货：<a href="https://tech.meituan.com/tags/%E6%8A%80%E6%9C%AF%E5%B9%B4%E8%B4%A7.html" rel="nofollow noopener noreferrer" target="_blank">tech.meituan.com/tags/技术年货.h&hellip;</a></li>
</ul>
<p>后面我会就各个部分进行展开的介绍，文末会有福利附上大量参考资料。</p>
<h1 class="heading" data-id="heading-3">工程化</h1>
<p>MCI - 客户端持续集成</p>
<p>MCI是美团点评客户端持续集成平台，在客户端功能越来越强大、代码库越来越大、参与团队越来越多，不可避免会导致客户端持续集成面临几大挑战：</p>
<ul>
<li>依赖模块复杂</li>
<li>研发流程繁琐</li>
<li>构建速度慢</li>
<li>App出包质量差</li>
</ul>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）3.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）3.png" data-width="1080" data-height="594" />
<p>&nbsp;</p>
<p>MCI架构体系包含移动CI平台、流程自动化建设、静态检查体系、日志监控&amp;分析、信息管理配置，另外MCI还采取二进制集成等措施来提升MCI的构建速度。</p>
<p>MCI实现了客户端持续集成的平台统一，极大提高了研发效率和保证客户端质量，实现了研发流程的自动化，提升了打包的速度与效率，同时也配备了诸如包体积大小、代码质量检测等能力。</p>
<p>详细可以查看参考资料[1]。</p>
<p>CAT - 全端监控平台</p>
<p>CAT（Central Application Tracking），是美团点评基于 Java 开发的一套开源的分布式实时监控系统。美团点评基础架构部希望在基础存储、高性能通信、大规模在线访问、服务治理、实时监控、容器化及集群智能调度等领域提供业界领先的、统一的解决方案，CAT 目前在美团点评的产品定位是应用层的统一监控组件，在中间件（RPC、数据库、缓存、MQ 等）框架中得到广泛应用，为各业务线提供系统的性能指标、健康状况、实时告警等服务。</p>
<p>CAT从开发至今，一直秉承着简单的架构就是最好的架构原则，主要分为三个模块：CAT-client、CAT-consumer、CAT-home。</p>
<ul>
<li>Cat-client 提供给业务以及中间层埋点的底层SDK。</li>
<li>Cat-consumer 用于实时分析从客户端提供的数据。</li>
<li>Cat-home 作为用户给用户提供展示的控制端。</li>
</ul>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）4.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）4.png" data-width="640" data-height="448" />
<p>&nbsp;</p>
<p>CAT项目从2011年开始做，到现在整个生产环境大概有三千应用，监控的服务端从零到几千，再到今天的两万多的规模，整个项目是从历时看起来是一个五年多的项目，但即使是做了五年多的这样一个项目，目前还有很多的需求需要开发。</p>
<p>详细可以查看参考资料[2][3]。</p>
<p>Logan - 移动端集成日志库</p>
<p>Logan是美团点评集团移动端基础日志组件，这个名称是Log和An的组合，代表个体日志服务。同时Logan也是&ldquo;金刚狼&rdquo;大叔的名号，当然我们更希望这个产品能像金刚狼大叔一样&ldquo;犀利&rdquo;。Logan已经稳定迭代了一年多的时间。目前美团点评绝大多数App已经接入并使用Logan进行日志收集、上传、分析。</p>
<p>目前存储SDK部分已经开源，GitHub的项目地址参见：<a href="https://github.com/Meituan-Dianping/Logan" rel="nofollow noopener noreferrer" target="_blank">github.com/Meituan-Dia&hellip;</a>&nbsp;。</p>
<p>在移动App中，最担心的场景就是无法还原用户的错误场景，通过散落在各处的日志无法完整的追溯用户的操作情况，导致线上问题处理不及时甚至无法重现。</p>
<p>Logan框架就是一个移动端基础日志组件，能够通过自动/手动方式来收集完整的用户日志信息，并且通过友好、聚合的前端系统形式来展现，帮助开发者快速定位问题。</p>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）5.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）5.png" data-width="1080" data-height="492" />
<p>&nbsp;</p>
<p>Logan其核心体系由四大模块构成：</p>
<ul>
<li>日志输入：代码级日志、网络日志、用户行为日志、崩溃日志、H5日志等。</li>
<li>日志存储：Logan自研的日志协议解决了日志本地聚合存储的问题，采用&ldquo;先压缩再加密&rdquo;的顺序，使用流式的加密和压缩，避免了CPU峰值，同时减少了CPU使用。</li>
<li>后端系统：后端是接收和处理数据中心，相当于Logan的大脑。主要有四个功能：接收日志、日志解析归档、日志分析、数据平台。</li>
<li>前端系统：研发人员通过Logan前端系统搜索日志，进入日志详情页查看具体内容，从而定位问题，解决问题。具备了数据可视化、筛选、过滤、搜索、分享等功能。</li>
</ul>
<p>详细可以查看参考资料[4]</p>
<p>ERA - 全栈前端框架</p>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）6.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）6.png" data-width="1280" data-height="613" />
<p>&nbsp;</p>
<p>前端开发涉及创建项目、框架选型、业务逻辑、配置打点、收集日志、构建测试、申请服务、上线检查等一系列环节，在各个环节中又有大量的技术选型，这样不断耗费开发同学的精力，同时也很难做到技术栈的统一和标准化，进而缺乏技术沉淀，每次新项目开发都需要从零开始。</p>
<p>ERA提供了一整套前端工程化能力，目的是在项目开发流程中进行适当的收敛，同时又通过插件方式提供了足够定制化的能力。</p>
<ul>
<li>初始化项目：可以通过插件方式集成集团基础的标准服务生成初始化的标准项目模板，同时也提供基于不同业务场景的项目模板</li>
<li>开发调试：基于插件方式可以快速集成各类服务，例如ABTest、Proxy、Mock、PWA等等，可以帮助业务开发同学快速进行业务逻辑代码编写</li>
<li>编译配置：基于Webpack，并且内置了babel/eslint的最佳实践</li>
<li>部署发布：可以实现Node服务和纯静态前端的发布</li>
</ul>
<h1 class="heading" data-id="heading-4">代码质量</h1>
<p>ESLint</p>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）7.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）7.png" data-width="800" data-height="503" />
<p>&nbsp;</p>
<p>为了能在团队内实现 JavaScript 代码规范的统一，在分析和思考团队规模化应用存在的问题后，我们设计了一套完整的技术解决方案。该方案包括多场景统一的 ESLint 规则配置、代码集成交付检查、自动化接入工具、执行状况监测分析等四个模块。通过各个模块协调配合，共同解决上文提出的问题，在降低维护成本、提升执行效率的同时，也保障了代码规范的统一。</p>
<ul>
<li>
<p>多场景统一的 JavaScript 规范：该模块是整个方案的核心，借助 ESLint 的特性，通过分层分类的结构设计，在保证基础规则一致性的同时，实现了对不同场景、技术选型的支撑。</p>
</li>
<li>
<p>代码集成交付检查：该模块是方案落地执行的保障，将代码静态检查集成到持续交付工作流中。具体设计实现上，在保证交付质量的同时，也通过定制集成检查工具降低了开发者的应用执行成本。</p>
</li>
<li>
<p>自动化接入和升级方案：通过命令行工具提供&ldquo;一键&rdquo;接入/升级能力，同时集成到团队脚手架中，大大降低了工程接入和维护的成本。</p>
</li>
<li>
<p>执行状况监测分析：通过对工具运行和代码集成交付检查过程进行埋点、检查结果收集和分析，了解方案的应用状态和效果。</p>
</li>
</ul>
<p>详细可以查看参考资料[5]</p>
<p>Hades - 移动端静态分析</p>
<p>按照 Hades 的架构目标进行基础方案选型以后，我们来看下 Hades 的整体技术框架，可以用下图所示的四层架构表示：</p>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）8.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）8.png" data-width="821" data-height="778" />
<p>&nbsp;</p>
<p>下面简述下这几层的不同职责。</p>
<ul>
<li>
<p>编译器架构层。Clang 的诸多优势前文已经提到，这也是 Hades 的基础依赖。</p>
</li>
<li>
<p>Hades 核心层。在编译器架构层，我们借助 Clang 得到了代码的抽象语法结构表示 AST。而 Hades 核心层的职责便是将 AST 解析成人们更容易理解的，更高层级的语义模型。</p>
</li>
<li>
<p>Hades 接口封装层。抽象出的模型，能够像 Clang 提供丰富 AST 访问接口那样，为开发者提供丰富的模型访问接口。</p>
</li>
<li>
<p>静态分析应用。通过 Hades 接口封装，我们无需清楚底层模型是如何生成的，在这一层我们可以制作 Lint 或者其它监控、分析工具。</p>
</li>
</ul>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）9.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）9.png" data-width="1080" data-height="659" />
<p>&nbsp;</p>
<p>不同于传统的Clang API或者OCLint，HadesModel 是基于 AST 的更高层级语义表达，它能够序列化为 JSON 格式并描述完整的编译单元，这种结构化信息使得静态分析能更接近于开发者阅读理解源码的思维习惯。</p>
<p>Hades 作为大众点评移动研发的基础设施之一，在实践中得到了广泛的应用，为大型 App 项目的日常维护、代码分析提供支持。基于 HadesModel 的静态分析易上手，开发接入成本低，能够理解代码语义，具备全局分析能力等诸多优点。</p>
<p>详细可以查看参考资料[6]</p>
<h1 class="heading" data-id="heading-5">参考资料</h1>
<p>[1]MCI-大众点评千人移动研发团队怎样做持续集成？：<a href="https://mp.weixin.qq.com/s/XY3u-bMgsg3rKI_DHZmSTg" rel="nofollow noopener noreferrer" target="_blank">mp.weixin.qq.com/s/XY3u-bMgs&hellip;</a></p>
<p>[2]开源实时监控系统CAT 3.0发布：<a href="https://mp.weixin.qq.com/s/9uePYJpVEIDTzH1pPjgxRg" rel="nofollow noopener noreferrer" target="_blank">mp.weixin.qq.com/s/9uePYJpVE&hellip;</a></p>
<p>[3]深度剖析开源分布式监控CAT：<a href="https://tech.meituan.com/2018/11/01/cat-in-depth-java-application-monitoring.html" rel="nofollow noopener noreferrer" target="_blank">tech.meituan.com/2018/11/01/&hellip;</a></p>
<p>[4]Logan-美团点评的开源移动端基础日志库：<a href="https://mp.weixin.qq.com/s/XM4bhncHzRFB7zMJa-g2-Q" rel="nofollow noopener noreferrer" target="_blank">mp.weixin.qq.com/s/XM4bhncHz&hellip;</a></p>
<p>[5]ESLint 在中大型团队的应用实践：<a href="https://mp.weixin.qq.com/s/jb8yozm-p-b6MBAb46SP7A" rel="nofollow noopener noreferrer" target="_blank">mp.weixin.qq.com/s/jb8yozm-p&hellip;</a></p>
<p>[6]Hades-移动端静态分析框架：<a href="https://mp.weixin.qq.com/s/CwKtLnxMW353iOsjUkpM6A" rel="nofollow noopener noreferrer" target="_blank">mp.weixin.qq.com/s/CwKtLnxMW&hellip;</a></p>
<h1 class="heading" data-id="heading-6">写在最后</h1>
<p>这是美团点评大前端技术体系解密的上篇，主要介绍了工程化和代码质量相关的沉淀，当然这些仅仅基于公开资料整理而成，仅仅是整个技术体系的冰山一角。</p>
<p>最后，美团点评上海、北京都在大量招前端资深/专家工程师，如果有兴趣近距离接触美团点评大前端技术框架，欢迎私信给我进行内推。</p>
<p>推荐阅读</p>
<p><a href="https://juejin.im/post/5da6bc246fb9a04e3a7f6d21" rel="" target="_blank">解密国内BAT等大厂前端技术体系-阿里篇（长文建议收藏）</a></p>
<p><a href="https://juejin.im/post/5da9db7be51d4524d0269876" rel="" target="_blank">解密国内BAT等大厂前端技术体系-百度篇（长文建议收藏）</a></p>
<p><a href="https://juejin.im/post/5db397985188250b0960824e" rel="" target="_blank">解密国内BAT等大厂前端技术体系-腾讯篇（长文建议收藏）</a></p>
<p><a href="https://juejin.im/post/5dd79147518825730f777a2c" rel="" target="_blank">解密国内BAT等大厂前端技术体系-携程篇（长文建议收藏）</a></p>
<p>&nbsp;</p>
<img class="lazyload inited loaded" src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）10.png" alt="" data-src="./images/解密国内BAT等大厂前端技术体系-美团点评之上篇（长文建议收藏）10.png" data-width="258" data-height="258" />
<p>&nbsp;</p>
<p>『奶爸码农』从事互联网研发工作10+年，经历IBM、SAP、陆金所、携程等国内外IT公司，目前在美团负责餐饮相关大前端技术团队，定期分享关于大前端技术、投资理财、个人成长的思考与总结。</p>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>