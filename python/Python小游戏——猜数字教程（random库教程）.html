<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python小游戏——猜数字教程（random库教程）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python小游戏——猜数字教程（random库教程）</center></div><div class='banquan'>原文出处:本文由博客园博主鲁尧尧提供。<br/>
原文连接:https://www.cnblogs.com/lyy135146/p/11703283.html</div><br>
    <p>今天来开发一个简单的数字逻辑游戏，猜数字（数字炸弹）</p>
<p><img src="./images/Python小游戏——猜数字教程（random库教程）0.png" alt="" width="300" /></p>
<p>&nbsp;首先开发游戏第一件事，了解需求。</p>
<p><span style="font-size: 18px;">猜数字游戏规则：</span></p>
<p>计算机随机生成一个指定范围的数字，由玩家来猜测，</p>
<p>之后计算机会根据玩家提供数字来与自己生成的数字进行对比，并返回结果太大或者太小</p>
<p>例：计算机随机生成1-100的数字53，玩家猜测为50，计算机对比结果后返回结果：太小了</p>
<p>多次重复直到玩家猜中数字，游戏结束统计分数。</p>
<p><img src="./images/Python小游戏——猜数字教程（random库教程）1.png" alt="" width="500" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">需求分析：</span></p>
<p><span style="font-size: 14px;">1.计算机随机生成数字；</span></p>
<p><span style="font-size: 14px;">2.与输入结果进行比较，返回太大太小结果；</span></p>
<p><span style="font-size: 14px;">3.判定是否回答正确，结束游戏；</span></p>
<p><span style="font-size: 14px;">3.记录分数并且输出；</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">开发环境：</span></p>
<p><span style="font-size: 14px;">python版本：IDLE 3.7</span></p>
<p><span style="font-size: 14px;">开 发&nbsp; 软 件：sublime_text</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">技术支持：</span></p>
<p><span style="font-size: 14px;">随机数在计算机应用中十分常见，在Python中，通过内置random库来实现产生各种分布的伪随机数序列。</span></p>
<p><span style="font-size: 14px;">random数据库通过采用梅森旋转算法，可用于除随机性要求更高的加密算法外的大多数工程应用。</span></p>
<p><span style="font-size: 14px;">简单理解，random库的作用就是生成随机数。主要使用函数如下：</span></p>
<p><strong>1. <span style="color: #ff0000;">random.random()</span></strong></p>
<p>　　random.random()方法返回一个随机数，其在[0.0,1.0)的范围之内的随机小数。<br />
</p>
<p><strong>2. <span style="color: #ff0000;">random.uniform(a,b)</span></strong><br />
</p>
<p>　　random.uniform()是在指定范围内生成随机小数，其有两个参数，一个是范围上限，一个是范围下限，范围为[a,b]。<br />
</p>
<p><strong>3. <span style="color: #ff0000;">random.randint(a,b)</span></strong><br />
</p>
<p>　　random.randint()是随机生成指定范围内的整数，其有两个参数，一个是范围上限，一个是范围下限制，范围为[a,b]。<br />
</p>
<p><strong>4. <span style="color: #ff0000;">random.randrange(start,stop[,step])</span></strong><br />
</p>
<p>　　random.randrange()是在指定范围内，按指定基数递增的集合中获得一个随机数，有三个参数，前两个参数代表范围上限和下限，第三个参数是递增增量，默认为1。<br />
</p>
<p><strong>5. <span style="color: #ff0000;">random.choice(sep)</span></strong><br />
</p>
<p>　　random.choice()是从序列中获取一个随机元素。<br />
</p>
<p><strong>6. <span style="color: #ff0000;">random.shuffle(sep)</span></strong><br />
</p>
<p>　　random.shuffle()函数是将一个列表中的元素打乱，随机排序。<br />
</p>
<p><strong>7. <span style="color: #ff0000;">random.sample(pop,k)</span><br />
</strong></p>
<p>　　random.sample()函数是从指定序列中随机获取指定长度的片段，原有序列不会改变，有两个参数，第<span style="font-size: 14px;">一个</span>参数代表指定序列<span style="font-size: 14px;">，第二个参数是需获取的片段长度。</span><br />
</p>
<p><strong>8. <span style="color: #ff0000;">randm.getrandbits(k)</span><br />
</strong></p>
<p>
　　<span style="font-size: 14px;">getrandbits()函数生成一个k比特长度的随机整数</span></p>
<p><strong>8. <span style="color: #ff0000;">randm.seed(a=None)</span><br />
</strong></p>
<p>
　　<span style="font-size: 14px;">seed()函数主要作用为初始化随机数种子，默认值为当前系统时间</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">程序开发：</span></p>
<p><span style="font-size: 14px;">参照需求分析，开发步骤如下</span></p>
<p><strong>1.创建一个指定范围内的整数，以1-100为例</strong></p>
<p>首先生成随机数需要调用random函数，为方便通过关键词as改为r。</p>
<p>其次我们需要生成的数字为整数，且有着明确的范围，所有应当使用random.randint(a,b)来生成对应整数。</p>
<p>最后输出检测是否成功生成。</p>
<p>代码设计如下</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
a </span>= r.randint(1,100<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(a)</pre>
</div>
<p>&nbsp;</p>
<p>注意：有的同学习惯将第二行、第三行写到一起，即：print(r.random(1,100))</p>
<p>这样写是没有任何问题的，但是由于后期判断玩家回答是否正确需要用到这一数字，所以还是创建一个变量来保存比较好。</p>
<p>&nbsp;</p>
<p><strong>2.接收玩家输入的数字，并且计较大小</strong></p>
<p>首先创建一个变量来接收玩家输入的数字，刚刚使用的a来存储计算机所生成的随机数，所以这里用b来代表玩家输入的数字。</p>
<p>之后使用 if 判断语句来将玩家输入数字b与计算机生成数据a来作比较 。</p>
<p>当b&gt;a时输出太大了；当b&lt;a时输出太小了；当 b=a时输出猜中了。</p>
<p>代码如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
a </span>= r.randint(1,100<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 方便调试程序、调试结束当将本句注释掉</span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(a)

b</span>=int(input(<span style="color: #800000;">"</span><span style="color: #800000;">输入数字</span><span style="color: #800000;">"</span><span style="color: #000000;">))
</span><span style="color: #0000ff;">if</span> b&gt;<span style="color: #000000;">a:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太大了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">elif</span> b&lt;<span style="color: #000000;">a:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太小了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">恭喜答对</span><span style="color: #800000;">"</span>)</pre>
</div>
<p>&nbsp;</p>
<p>注意：由于b是通过input()函数接收到的数据，所以b默认的数据类型为string，所以会报错string类型的b不能与int类型的a做比较大小操作。情况如下</p>
<p><img src="./images/Python小游戏——猜数字教程（random库教程）2.png" alt="" width="600" /></p>
<p>&nbsp;</p>
<p>&nbsp;解决方法：</p>
<p>1.通过int()，改变b的数据类型，如上文所写<span style="color: #000000;">b=int(input(<span style="color: #800000;">"<span style="color: #800000;">输入数字<span style="color: #800000;">"<span style="color: #000000;">))</span></span></span></span></span></p>
<p>2.通过eval()，自动识别接收数据类型</p>
<p>&nbsp;</p>
<p><strong>3.创建循环，重复第二部分，直到玩家答对数字</strong></p>
<p><span style="font-size: 14px;">两种循环，for循环和 while循环哪一个更好一点呢？</span></p>
<p><span style="font-size: 14px;">for循环的特点为先判断条件，再执行语句。</span></p>
<p><span style="font-size: 14px;">while循环的特点为先执行语句，再循环。</span></p>
<p><span style="font-size: 14px;">猜数字游戏自然是先执行语句再判断的好所以本处使用while循环</span></p>
<p><span style="font-size: 14px;">跳出循环的条件为玩家回答正确，跳出的方式也多种多样</span></p>
<p><span style="font-size: 14px;">第一种：判断条件为False</span></p>
<p><span style="font-size: 14px;">我们可以创建变量 flag，while条件为flag为真</span></p>
<p><span style="font-size: 14px;">此时只需要在玩家回答正确之后，更改falg值为假即可。</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
a </span>= r.randint(1,100<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 方便调试程序、调试结束当将本句注释掉</span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
flag </span>= 1
<span style="color: #0000ff;">while</span> flag == 1<span style="color: #000000;">:
    b</span>=int(input(<span style="color: #800000;">"</span><span style="color: #800000;">输入数字</span><span style="color: #800000;">"</span><span style="color: #000000;">))
    </span><span style="color: #0000ff;">if</span> b&gt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太大了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">elif</span> b&lt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太小了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">恭喜答对</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        flag </span>= 0</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 14px;">第二种：break跳出</span></p>
<p><span style="font-size: 14px;">关键字break 功能为跳出本循环体，所以这时候可以设定while循环条件恒为真</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
a </span>= r.randint(1,100<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 方便调试程序、调试结束当将本句注释掉</span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(a)

</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    b</span>=int(input(<span style="color: #800000;">"</span><span style="color: #800000;">输入数字</span><span style="color: #800000;">"</span><span style="color: #000000;">))
    </span><span style="color: #0000ff;">if</span> b&gt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太大了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">elif</span> b&lt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太小了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">恭喜答对</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">break</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>4.添加分数、游戏输出</strong></p>
<p>分数的统计方法十分简单，只需要统计循环体的循环次数即可。</p>
<p>设定一个变量来统计循环次数，变量初量为&ldquo;0&rdquo;，在每次循环前变量+1即可。</p>
<p>当然个人喜好也可以赋初值为100，每次循环-1，最后统计输出数值即可。</p>
<p>所以最终代码如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
a </span>= r.randint(1,100<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 方便调试程序、调试结束当将本句注释掉</span><span style="color: #008000;">
#</span><span style="color: #008000;">print(a)</span>
score =<span style="color: #000000;"> 0
</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    b</span>=int(input(<span style="color: #800000;">"</span><span style="color: #800000;">输入数字</span><span style="color: #800000;">"</span><span style="color: #000000;">))
    score</span>+=1
    <span style="color: #0000ff;">if</span> b&gt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太大了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">elif</span> b&lt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太小了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">恭喜答对</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">break</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">score=%d</span><span style="color: #800000;">"</span>%score)</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">程序优化：</span></p>
<p><strong><span style="font-size: 14px;">1.手动输入上下限制</span></strong></p>
<p>上述程序中，以1-100为例，而我们平常所使用中，可以自主设定上下限。</p>
<p>所以第一步将原来的限制更改为自主输入。</p>
<p>上述设定a为计算机生成数，b为玩家输入数字，理所当然c、d承担起上下限制的重任</p>
<p>首先需要来接收玩家输入的数据，由于生成的随机数a需要上下限制的参数，所以接收应当在生成随机数前面。</p>
<p>之后将random传入参数改为 变量名c、d</p>
<p>如下代码所示</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
c </span>= int(input(<span style="color: #800000;">"</span><span style="color: #800000;">请输入最小数</span><span style="color: #800000;">"</span><span style="color: #000000;">))
d </span>= int(input(<span style="color: #800000;">"</span><span style="color: #800000;">请输入最大数</span><span style="color: #800000;">"</span><span style="color: #000000;">))
a </span>=<span style="color: #000000;"> r.randint(c,d)
</span><span style="color: #008000;">#</span><span style="color: #008000;"> 方便调试程序、调试结束当将本句注释掉</span><span style="color: #008000;">
#</span><span style="color: #008000;">print(a)</span>
score =<span style="color: #000000;"> 0
</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    b</span>=int(input(<span style="color: #800000;">"</span><span style="color: #800000;">输入数字</span><span style="color: #800000;">"</span><span style="color: #000000;">))
    score</span>+=1
    <span style="color: #0000ff;">if</span> b&gt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太大了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">elif</span> b&lt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太小了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">恭喜答对</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">break</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">score=%d</span><span style="color: #800000;">"</span>%score)</pre>
</div>
<p>&nbsp;</p>
<p><strong>2.显示数字范围</strong></p>
<p>每一次都只回应请&rdquo;输入数字&rdquo;，如果可以将之前的数据更新迭代，也就是输出范围想来要比原计划好一些。</p>
<p>如果这样做，最先修改的便是输入b时候的语句，需要将上下限制加入。</p>
<p>之后上下限制的数据也要对应发生改变，以1-100为范围，随机数为60为例：</p>
<p>玩家输入50，计算机给出回应太小了，之后请求输入的是51-100的数据。</p>
<p>也就是说最初玩家输入c(1)~d(100)&nbsp; 当玩家输入新数据b(50)之后,cd将要根据b的情况来更新</p>
<p>当太小了时候，c=b+1</p>
<p>当太大了时候，d=b-1</p>
<p>代码以及结果如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> random as r
c </span>= int(input(<span style="color: #800000;">"</span><span style="color: #800000;">请输入最小数</span><span style="color: #800000;">"</span><span style="color: #000000;">))
d </span>= int(input(<span style="color: #800000;">"</span><span style="color: #800000;">请输入最大数</span><span style="color: #800000;">"</span><span style="color: #000000;">))
a </span>=<span style="color: #000000;"> r.randint(c,d)
</span><span style="color: #008000;">#</span><span style="color: #008000;"> 方便调试程序、调试结束当将本句注释掉</span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
score </span>=<span style="color: #000000;"> 0
</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    b</span>=int(input(<span style="color: #800000;">"</span><span style="color: #800000;">输入%d到%d数字:</span><span style="color: #800000;">"</span>%<span style="color: #000000;">(c,d)))
    score</span>+=1
    <span style="color: #0000ff;">if</span> b&gt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太大了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        d</span>=b-1
    <span style="color: #0000ff;">elif</span> b&lt;<span style="color: #000000;">a:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">太小了</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        c</span>=b+1
    <span style="color: #0000ff;">else</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">恭喜答对</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">break</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">score=%d</span><span style="color: #800000;">"</span>%score)</pre>
</div>
<p>&nbsp;</p>
<p><strong><img src="./images/Python小游戏——猜数字教程（random库教程）3.png" alt="" /></strong></p>
<p>&nbsp;</p>
<p><strong>&nbsp;</strong></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>